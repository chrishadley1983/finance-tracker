# Merge Report

**Commit:** adc36bc
**Date:** 2026-01-02
**Mode:** Direct to main
**Files Changed:** 131

## Verification Results

| Check | Status |
|-------|--------|
| TypeScript | Pass |
| Tests | Pass (852 tests) |
| Build | Pass |

## Summary

Major feature implementation covering Phases 3-6 of the Finance Tracker application.

### Phase 3 - CSV Import System
- Multi-format CSV parser with auto-detection
- AI-powered column mapping using Claude
- Duplicate detection via transaction hashing
- Import templates for saved formats
- Multi-strategy categorisation engine (rules, similarity, AI)

### Phase 4 - Investment Accounts
- Manual valuation tracking for platforms without Open Banking
- Bulk historical import with multiple date format support
- Investment summary with portfolio totals

### Phase 5 - Category Review Queue
- `needs_review` flag on transactions table
- Bulk categorisation with category picker
- Filter by uncategorised/flagged transactions
- Navigation badge showing items pending review

### Phase 6 - Wealth & FIRE
- Net worth tracking across all account types
- Historical net worth chart with period selector (1Y/2Y/5Y/All)
- FIRE calculator with 4 default scenarios (Lean/Medium/Full/Fat)
- Year-by-year projections with inflation adjustment
- Coast FI and success rate calculations
- CSV export for projection data

## New Pages
- `/import` - CSV import wizard
- `/investments` - Investment account management
- `/review` - Category review queue
- `/wealth` - Net worth dashboard (updated)
- `/fire` - FIRE calculator (updated)

## New API Routes
- `/api/import/*` - Upload, preview, execute, templates
- `/api/investments/*` - CRUD for investment accounts and valuations
- `/api/transactions/review-queue` - Review queue operations
- `/api/transactions/[id]/flag` - Flag transactions for review
- `/api/wealth/net-worth` - Current net worth summary
- `/api/wealth/history` - Historical net worth data
- `/api/fire/*` - Scenarios, inputs, calculations
- `/api/categories/rules/*` - Category rule management

## Database Migrations Applied
- `002_import_tables.sql` - Import sessions, formats, hashes
- `add_needs_review_flag` - Review queue support
- `wealth_fire_tables` - FIRE scenarios and inputs
